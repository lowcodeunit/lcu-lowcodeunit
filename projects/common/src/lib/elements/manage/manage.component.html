<div fxFlexFill class="manage" *ngIf="!Loading">
  <div fxFlexFill fxLayout="column" fxLayoutGap="5px">
    <div fxLayout="row" fxLayoutGap="5px">
      <div
        fxFlex="75"
        fxLayoutAlign="start end"
        class="welcome-bg background-fill"
      >
        <div class="welcome-index" fxLayout="row" fxLayoutGap="30px">
          <div fxFlex="30">
            <h1 fxLayout="column">
              <span class="plain-text theme-accent-text margin-bottom-2">
                Welcome to
              </span>
              <span class="mat-display-1 plain-text">LowCodeUnit</span>
            </h1>
          </div>

          <div class="divider-fill-vert"></div>

          <div fxLayout="column">
            <h2 class="plain-text theme-accent-text">Device Dashboard</h2>

            <p>
              Emulate, simulate, and connect your devices to unlock the power of
              your IoT applications.
            </p>
          </div>
        </div>
      </div>

      <div fxFlex class="background-fill blank-header"></div>
    </div>

    <!-- <div style="height: 200px; width: 100px; background-color: rgb(192, 24, 24);"
      [@onSideNavOpenClose]="SideNavSrvc.SideNavToggleVal ? 'open' : 'close'">test
      </div> -->

    <div fxFlexFill fxLayout="row">
      <div fxFlex fxLayout="row" fxLayoutGap="5px">
        <!-- left side -->
        <div
          [@onSideNavOpenClose]="
            SideNavSrvc.SideNavToggleVal ? 'open' : 'close'
          "
          (@onSideNavOpenClose.done)="OnSideNavOpenCloseDoneEvent($event)"
          fxFlex="25"
          fxLayout="row"
          fxFill
          fxLayoutAlign="start start"
          class="background-fill box-side-triangle"
        >
          <div fxLayout="column" class="side-column">
            <div
              class="side-toggle-container"
              [@onSideNavOpenClose]="
                SideNavSrvc.SideNavToggleVal ? 'open' : 'close'
              "
              fxLayoutAlign="end"
            >
              <button mat-icon-button (click)="ToggleSideNav()">
                <mat-icon *ngIf="SideNavSrvc.SideNavToggleVal">
                  arrow_left
                </mat-icon>
                <mat-icon *ngIf="!SideNavSrvc.SideNavToggleVal">
                  arrow_right
                </mat-icon>
              </button>
            </div>

            <div
              [ngStyle]="{
                display: SideNavOpenCloseEvent === true ? 'none' : 'block'
              }"
              fxLayout="column"
              fxFlex="90"
              class="padding-left-5 padding-right-5 padding-top-5"
            >
              <div class="divider-fill-hor"></div>

              <h3 class="mat-display-5 plain-text whats-next-text">
                Getting Started?
              </h3>

              <p>
                Check out our getting started
                <a
                  mat-link-button
                  href="https://www.iot-ensemble.com/docs/getting-started/setup"
                  target="_blank"
                >
                  documentation
                </a>
              </p>

              <div class="divider-fill-hor"></div>
            </div>
          </div>
        </div>
        <!--^^^ Left Side ^^^-->

        <!-- Content -->
        <div
          fxFlex
          fxLayout="column"
          fxLayoutGap="1em"
          class="background-fill padding-left-2 padding-right-2 padding-top-2"
        >
          <!-- Emulated Devices -->
          <div>
            <mat-card>
              <mat-card-header>
                <div
                  mat-card-avatar
                  fxLayoutAlign="center center"
                  class="orange-accent"
                >
                  <mat-icon>contactless</mat-icon>
                </div>

                <mat-card-title>Emulated Devices</mat-card-title>

                <div fxFlex></div>

                <lcu-enabled-toggle
                  [enabled]="Emulated?.Enabled"
                  [loading]="Emulated?.Loading"
                  (enabled-toggled)="ToggleEmulatedEnabledChanged($event)"
                ></lcu-enabled-toggle>

                <a href="https://www.iot-ensemble.com/docs/getting-started/emulated-data" target="_blank">
                  <mat-icon matTooltip="More info">help_outline</mat-icon>
                </a>
              </mat-card-header>

              <mat-card-content class="margin-left-5">
                <p>
                  To see the dashboard in action without connecting a device, enable the emulated data.
                  When enabled, emulated data will be provided in your data queries. The emulated device
                  is for smart room detection and provides data on the temperature, humidity and occupancy
                  of a room.
                </p>
              </mat-card-content>

              <mat-card-actions> </mat-card-actions>
            </mat-card>
          </div>
          <!--^^^ Emulated Devices ^^^-->

          <!-- Storage Access -->
          <div>
            <mat-card>
              <mat-card-header>
                <div
                  mat-card-avatar
                  fxLayoutAlign="center center"
                  class="orange-accent"
                >
                  <mat-icon>storage</mat-icon>
                </div>

                <mat-card-title>Storage Access</mat-card-title>
                <div fxFlex></div>
                <a href="https://www.iot-ensemble.com/docs/getting-started/connecting-downstream-services" target="_blank">
                  <mat-icon matTooltip="More info">help_outline</mat-icon>
                </a>
              </mat-card-header>

              <mat-card-content>
                <lcu-api-access
                  [api-keys]="Storage?.APIKeys"
                  [api-options]="Storage?.APIOptions"
                  (regenerated)="RegenerateAPIKey($event)"
                ></lcu-api-access>
              </mat-card-content>

              <mat-card-actions></mat-card-actions>
            </mat-card>
          </div>
        </div>
        <!--^^^ Storage Access ^^^-->
      </div>
      <!--^^^ Content ^^^-->
    </div>
  </div>
</div>

<lcu-loader [loading]="Loading"></lcu-loader>
